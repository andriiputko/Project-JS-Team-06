{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-e301994209b64b3d.js","node_modules/@parcel/runtime-js/lib/runtime-0923454e10572239.js","node_modules/@parcel/runtime-js/lib/runtime-aaebfa8473ff2b8d.js","node_modules/@parcel/runtime-js/lib/runtime-fcb31cd218e8f467.js","node_modules/@parcel/runtime-js/lib/runtime-29ef13c5233f97dc.js","node_modules/@parcel/runtime-js/lib/runtime-c8ac7406fa709d69.js","node_modules/@parcel/runtime-js/lib/runtime-868793b8e3618674.js","node_modules/@parcel/runtime-js/lib/runtime-988d1c1f680e3a1f.js","src/shoppingList.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"6m2pp\\\":\\\"shopping-list.a9c1d866.js\\\",\\\"aSpOC\\\":\\\"amazon-icon.bf9c062f.png\\\",\\\"7VERE\\\":\\\"open-book-icon.13365d66.png\\\",\\\"1X41I\\\":\\\"book-shop-icon.f4a265a5.png\\\",\\\"bEok1\\\":\\\"amazon-icon@2x.3254cb4c.png\\\",\\\"aq69C\\\":\\\"open-book-icon@2x.66c58f73.png\\\",\\\"12tYq\\\":\\\"book-shop-icon@2x.88845c4c.png\\\",\\\"410VS\\\":\\\"icons.4ee90e29.svg\\\",\\\"5UbS1\\\":\\\"index.463c50be.css\\\",\\\"ivEJG\\\":\\\"shopping-list.9510ebbf.js\\\"}\"));","module.exports = require('./helpers/bundle-url').getBundleURL('6m2pp') + require('./helpers/bundle-manifest').resolve(\"aSpOC\");","module.exports = require('./helpers/bundle-url').getBundleURL('6m2pp') + require('./helpers/bundle-manifest').resolve(\"7VERE\");","module.exports = require('./helpers/bundle-url').getBundleURL('6m2pp') + require('./helpers/bundle-manifest').resolve(\"1X41I\");","module.exports = require('./helpers/bundle-url').getBundleURL('6m2pp') + require('./helpers/bundle-manifest').resolve(\"bEok1\");","module.exports = require('./helpers/bundle-url').getBundleURL('6m2pp') + require('./helpers/bundle-manifest').resolve(\"aq69C\");","module.exports = require('./helpers/bundle-url').getBundleURL('6m2pp') + require('./helpers/bundle-manifest').resolve(\"12tYq\");","module.exports = require('./helpers/bundle-url').getBundleURL('6m2pp') + require('./helpers/bundle-manifest').resolve(\"410VS\");","import amazonImg from './images/amazon-icon.png';\nimport bookImg from './images/open-book-icon.png';\nimport shopImg from './images/book-shop-icon.png';\nimport amazonImgRetina from './images/amazon-icon@2x.png';\nimport bookImgRetina from './images/open-book-icon@2x.png';\nimport shopImgRetina from './images/book-shop-icon@2x.png';\n\nimport { hideLoader, showLoader } from './js/loader.js';\nimport { scrollup } from './js/scrollup';\nimport { header } from './js/header.js';\n\nimport './js/themeDark';\nimport './js/fondsSlider';\nimport './js/sign-up-modal';\n\nimport sprite from './images/icons.svg';\n\nconst shoppingListEl = document.querySelector('.shopping-list');\nconst emptyListMessageEl = document.querySelector('.shopping-empty');\nconst headerNavListEl = document.querySelector('.header-nav-list');\nconst headerNavListModal = document.querySelector('.header-nav-list-modal');\n\nconst addRemoveHeaderClass = () => {\n  headerNavListEl.lastElementChild.classList.add('header-tab-active');\n  headerNavListEl.firstElementChild.classList.remove('header-tab-active');\n};\n\nconst addRemoveModalClass = () => {\n  headerNavListModal.lastElementChild.classList.add('header-active-modal');\n  headerNavListModal.firstElementChild.classList.remove('header-active-modal');\n  headerNavListModal.style.width = '156px';\n};\n\nshowLoader();\naddRemoveHeaderClass();\naddRemoveModalClass();\n\nlet savedBooksList = JSON.parse(localStorage.getItem('shoppingList'));\n\nif (savedBooksList) {\n  emptyListMessageEl.classList.add('is-hidden');\n}\n\n// shoppingListEl.innerHTML = createBookCards(savedBooksList);\nconst createCardMarkup = booksList => {\n  if (!booksList) {\n    return '';\n  }\n\n  return booksList\n    .map(book => {\n      const description =\n        book.description.trim() !== ''\n          ? book.description\n          : 'In a homage to Louisa May Alcott’s “Little Women,” a young man’s dark past resurfaces as he gets to know the family of his college sweetheart.';\n\n      return `<li class='shopping-list-item' data-id='${book._id}'>\n    <img\n      class='shopping-item-img'\n      src='${book.book_image}'\n      alt='${book.title}'\n    />\n    <div class='shopping-item-info'>\n      <h2 class='shopping-item-title'>${book.title}</h2>\n      <p class='shopping-list-name'>${book.list_name}</p>\n      <p class='shopping-item-descr'>${description}</p>\n      <p class='shopping-item-author'>${book.author}</p>\n      <ul class='shopping-list-links'>\n        <li><a href='${book.buy_links[0].url}' target='_blank'><img\n              class='shopping-link-img amazon-img'\n              srcset=\"${amazonImg} 1x, ${amazonImgRetina} 2x\"\n              src='${amazonImg}'\n              alt='Amazon'\n            /></a></li>\n        <li><a href='${book.buy_links[1].url}' target='_blank'><img\n              class='shopping-link-img book-img'\n              srcset=\"${bookImg} 1x, ${bookImgRetina} 2x\"\n              src='${bookImg}'\n              alt='Open book'\n            /></a></li>\n        <li><a href='${book.buy_links[4].url}' target='_blank'><img\n              class='shopping-link-img shop-img'\n              srcset=\"${shopImg} 1x, ${shopImgRetina} 2x\"\n              src='${shopImg}'\n              alt='Shop icon'\n            /></a></li>\n      </ul>\n    </div>\n    <button class='shopping-item-btn'>\n      <svg class='shopping-item-btn-icon'>\n        <use href=\"${sprite}#icon-trash\"></use>\n      </svg>\n    </button>\n  </li>`;\n    })\n    .join('');\n};\n\nlet bookCardMarkup = createCardMarkup(savedBooksList);\n\nshoppingListEl.innerHTML = bookCardMarkup;\n\nconst refreshLocalStorage = id => {\n  const bookStorageArray = JSON.parse(localStorage.getItem('shoppingList'));\n\n  bookStorageArray.forEach((book, index) => {\n    if (book._id === id) {\n      bookStorageArray.splice(index, 1);\n    }\n  });\n\n  if (bookStorageArray.length === 0) {\n    localStorage.removeItem('shoppingList');\n    return;\n  }\n\n  localStorage.setItem('shoppingList', JSON.stringify(bookStorageArray));\n\n  return bookStorageArray;\n};\n\nconst handleClick = event => {\n  if (event.target.nodeName != 'BUTTON') {\n    return;\n  }\n\n  const objectId = event.target.parentElement.dataset.id;\n\n  savedBooksList = refreshLocalStorage(objectId);\n\n  if (!savedBooksList) {\n    emptyListMessageEl.classList.remove('is-hidden');\n  }\n\n  bookCardMarkup = createCardMarkup(savedBooksList);\n\n  shoppingListEl.innerHTML = bookCardMarkup;\n};\n\nshoppingListEl.addEventListener('click', handleClick);\n\nsetTimeout(hideLoader, 1000);\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$4c06d268f738395d$exports","getBundleURL","resolve","$6fa1566f0114e9e0$exports","$0d14805ab319a419$exports","$7f1cd2f6e430a10c$exports","$d591c7b7d8c62938$exports","$d1f1e6a9dd17ad06$exports","$6da17426e141d574$exports","$53cf0dd4ee1e73f1$var$shoppingListEl","document","querySelector","$53cf0dd4ee1e73f1$var$emptyListMessageEl","$53cf0dd4ee1e73f1$var$headerNavListEl","$53cf0dd4ee1e73f1$var$headerNavListModal","$kvC6y","showLoader","lastElementChild","classList","add","firstElementChild","remove","style","width","$53cf0dd4ee1e73f1$var$savedBooksList","localStorage","getItem","$53cf0dd4ee1e73f1$var$createCardMarkup","booksList","map","book","description","trim","concat","_id","book_image","title","list_name","author","buy_links","$parcel$interopDefault","join","$53cf0dd4ee1e73f1$var$bookCardMarkup","innerHTML","addEventListener","event","target","nodeName","objectId","parentElement","dataset","bookStorageArray","forEach","index","splice","setItem","stringify","removeItem","$53cf0dd4ee1e73f1$var$refreshLocalStorage","setTimeout","hideLoader"],"version":3,"file":"shopping-list.a9c1d866.js.map"}